# 🧠 MegaNodes API - Main API Endpoints

This page provides an overview of all endpoints and response details for the MegaNodes API.

---

## 🔑 Required HTTP Headers

All HTTP requests related to the API **must include** the following headers:

| Name | Value | Example |
|------|--------|----------|
| **Authorization** | Bearer `{API_TOKEN}` | `Authorization: Bearer ed45553e-1702-4342-a70d-09bf7ff7f568` |
| **Accept** | application/json | `Accept: application/json` |
| **Content-Type** | application/json | `Content-Type: application/json` |

---

## 🌐 Language Codes

The MegaNodes API currently supports the following languages:

| Value | Code | Language |
|:------:|:----:|-----------|
| 1 | en | English |
| 2 | ko | Korean |
| 3 | th | Thai |
| 4 | es | Spanish |
| 5 | ja | Japanese |
| 6 | pt | Portuguese |
| 7 | tr | Turkish |
| 8 | de | German |
| 9 | id | Indonesian |
| 10 | ms | Malay |
| 11 | zh | Chinese |

---

## 🎰 Transaction Types

All bets and wins in the game are recorded as **transactions**.  
Even if there is no win, a `Win(2)` transaction with a value of `0` will still occur.  

If an error occurs while processing a `Bet(1)` transaction via the callback URL, a `BetCancel(16)` transaction will be triggered, and the bet amount will be refunded.

| Value | Transaction | Description |
|:------:|:------------|-------------|
| 1 | Bet | Betting |
| 16 | BetCancel | Cancel Betting |
| 2 | Win | Winning |
| 32 | BonusCall | Bonus-Call Winning |
| 4 | Deposit | Point Deposit |
| 8 | Withdraw | Point Withdraw |

> ⚠️ To manage server load, transactions made **two days before maintenance** are automatically deleted.

---

## 🧩 Provider Maintenance

When a game provider enters maintenance mode, the status `Maintenance(2)` is returned.  
If you attempt to access the game during maintenance, the response code `UNDER_MAINTENANCE(1)` is returned.

| Value | Status | Description |
|:------:|:------:|-------------|
| 1 | Normal | Operational |
| 2 | Maintenance | Under Maintenance |

---

## 🧾 API Response Codes

Below are the possible response codes returned by the MegaNodes API.

| Code | Value | Description |
|------|:------:|-------------|
| **OK** | 0 | Success |
| **UNDER_MAINTENANCE** | 1 | On maintenance |
| **INTERNAL_SERVER_ERROR** | 1001 | Internal server error |
| **VALIDATION_ERROR** | 1002 | Request data format error |
| **SERVICE_EXCEPTION** | 1003 | Service exception occurred |
| **TOKEN_NOT_FOUND** | 1007 | Authentication token not found |
| **TOKEN_INVALID** | 1009 | Authentication token invalid |
| **PERMISSION_ERROR** | 1010 | No access |
| **PROVIDER_ERROR** | 1011 | Provider error |
| **PARAMETERS_INVALID** | 1012 | Parameters invalid |
| **CALLBACK_ERROR** | 1015 | Callback error (check Callback API logs) |
| **SERVER_IS_BUSY** | 1018 | Server load error (concurrent call limit exceeded) |
| **IP_NOT_ALLOWED** | 1020 | Not allowed IP |
| **AGENT_NOT_FOUND** | 2001 | Agent information not found |
| **USER_NOT_FOUND** | 2002 | User information not found |
| **GAME_NOT_FOUND** | 2003 | Game information not found |
| **POINT_NOT_ENOUGH** | 2005 | Insufficient agent point balance |
| **BALANCE_NOT_ENOUGH** | 2006 | Insufficient user point balance |
| **PROVIDER_NOT_FOUND** | 2007 | Provider information not found |
| **BONUSCALL_DOUBLE** | 2011 | Bonus call already running |
| **BONUSCALL_ALREADY_ENDED** | 2012 | Bonus call already ended |
| **ROUND_NOT_FOUND** | 2013 | Round information not found |
| **CURRENCY_NOT_SUPPORTED** | 2014 | Currency is not supported |

---

## ⛳ Endpoints

| Path | Method | Description |
|------|:------:|-------------|
| **/v4/agent/rtp(./061.endpoint-agent-rtp.md)** | POST | Change Agent's RTP |
| **UNDER_MAINTENANCE** | 1 | On maintenance |
| **INTERNAL_SERVER_ERROR** | 1001 | Internal server error |
| **VALIDATION_ERROR** | 1002 | Request data format error |
| **SERVICE_EXCEPTION** | 1003 | Service exception occurred |
| **TOKEN_NOT_FOUND** | 1007 | Authentication token not found |
| **TOKEN_INVALID** | 1009 | Authentication token invalid |
| **PERMISSION_ERROR** | 1010 | No access |
| **PROVIDER_ERROR** | 1011 | Provider error |
| **PARAMETERS_INVALID** | 1012 | Parameters invalid |
| **CALLBACK_ERROR** | 1015 | Callback error (check Callback API logs) |
| **SERVER_IS_BUSY** | 1018 | Server load error (concurrent call limit exceeded) |
| **IP_NOT_ALLOWED** | 1020 | Not allowed IP |
| **AGENT_NOT_FOUND** | 2001 | Agent information not found |
| **USER_NOT_FOUND** | 2002 | User information not found |
| **GAME_NOT_FOUND** | 2003 | Game information not found |
| **POINT_NOT_ENOUGH** | 2005 | Insufficient agent point balance |
| **BALANCE_NOT_ENOUGH** | 2006 | Insufficient user point balance |
| **PROVIDER_NOT_FOUND** | 2007 | Provider information not found |
| **BONUSCALL_DOUBLE** | 2011 | Bonus call already running |
| **BONUSCALL_ALREADY_ENDED** | 2012 | Bonus call already ended |
| **ROUND_NOT_FOUND** | 2013 | Round information not found |
| **CURRENCY_NOT_SUPPORTED** | 2014 | Currency is not supported |

---

## 🧭 Summary

The **Main API** section defines the foundation for all operations in MegaNodes’s ecosystem.  
By including the correct headers, managing transactions, and handling response codes properly, you ensure secure, stable, and compliant integration with MegaNodes’s gaming infrastructure.

---

> 🏗️ Next: Proceed to **[Callback Reqeusts](./07.callback-requests.md)** to learn how to enhance player engagement using dynamic bonus calls.
